kind: job
title: Global title
images:
  image_a:
    uri: image:banana
    context: dir/context
    dockerfile: dir/Dockerfile
    build_args:
    - --arg1
    - val1
    - --arg2=val2
volumes:
  volume_a:
    uri: storage:dir
    mount: /var/dir
    read_only: true
    local: dir
  volume_b:
    uri: storage:other
    mount: /var/other
defaults:
  tags: [tag-a, tag-b]
  env:
    global_a: val-a
    global_b: val-b
  workdir: /global/dir
  life_span: 1d4h
  preset: cpu-large
jobs:
  test_a:
    name: job-name
    image: ${{ images.image_a.uri }}
    preset: cpu-small
    entrypoint: bash
    cmd: echo abc
    workdir: /local/dir
    env:
      local_a: val-1
      local_b: val-2
    volumes:
      - ${{ volumes.volume_a.uri }}
      - storage:dir:/var/dir:ro
    tags: [tag-1, tag-2]
    life_span: 2h55m
    http_port: 8080
    http_auth: false
    title: Job title
    detach: true
    browse: true
    port_forward:
    - "2211:22"
